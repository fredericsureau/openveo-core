<div class="container" ng-controller="DataTableController as dataTable">
  <div class="datatable form-group" >
    <div class="col-sm-3" ng-repeat="(key, value) in dataTable.filterBy" >
      <label class="control-label"><span ng-bind="'PROPERTIES.SEARCH_BY'"></span> [[key]] :</label>
      <input type="text" class="form-control input-sm" ng-model="dataTable.filterBy[key]" />
    </div>
  </div>
  <div tasty-table bind-theme="dataTable.customTheme" bind-reload="dataTable.reloadCallback" bind-resource-callback="dataTable.getResource" bind-init="dataTable.init" bind-filters="dataTable.filterBy">
    <table class="table table-striped table-condensed">
      <thead tasty-thead bind-not-sort-by="dataTable.notSortBy" ></thead>
      <tbody>
        <tr ng-repeat-start="row in dataTable.rows" ng-class="$index%2?'even':'odd'">
          <td class="line col-sm-10" ng-repeat="property in dataTable.header" ng-if="property.key != 'action'">
            <div ng-click="dataTable.toggleRowDetails(row)" class="table-cell"><span class="glyphicon" aria-hidden="true" ng-class="{'glyphicon-chevron-right' : !row.opened, 'glyphicon-chevron-down' : row.opened}"></span> <strong>[[row[property.key]; ]]</strong></div>
          </td>
          <td ng-if='dataTable.actions'>
            <div class="col-xs-2 hidden-xs">
              <div class="btn-group" dropdown>
                <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle ng-disabled="dataTable.disabled">
                  Action <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" >  
                  <li role="presentation" ng-repeat="action in dataTable.actions" ng-if='action.condition(row)'>
                    <a role="menuitem" href="#" ng-click="action.callback(row)" ng-bind="action.label"></a>
                  </li>
                </ul>
              </div>
            </div>
          </td>
        </tr>
        <tr ng-repeat-end ng-if="row.opened" class="open-tab open-tab-animate" ng-class="$index%2?'even':'odd'">
          <td colspan=[[dataTable.header.length-1]]> 
            <ng-include src="'views/elements/form.html'"></ng-include>
          </td>
        </tr>
      </tbody>
    </table>
    <div tasty-pagination></div>
  </div>
</div>
