"use strict"

// Module dependencies
var winston = require("winston");

/**
 * Gets a new logger by its name or initializes one.
 * 
 * @param String name The name of the logger
 * @param Object conf Logger configuration to initialize a new logger
 * e.g.
 * {
 *   "fileName" : "E:/veo-labs/open-veo/openveo/logs/openveo.log",
 *   "level" : "debug",
 *   "maxFileSize" : 1048576,
 *   "maxFiles" : 2  
 * }
 * Available debug levels are : 
 *  - silly
 *  - debug
 *  - verbose
 *  - info
 *  - warn
 *  - error
 */
module.exports.get = function(name, conf){
  if(conf){
    
    // Create logger
    winston.loggers.add(name, {
      file: {
        level: conf.level,
        filename: conf.fileName,
        maxsize : conf.maxFileSize,
        maxFiles : conf.maxFiles
      }
    });
    
  }
  
  return winston.loggers.get(name);
};